{"ast":null,"code":"import _slicedToArray from\"C:/GitRepos/WineJS/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useContext,useState}from'react';import Select from'react-select';//import { useForm } from 'react-hook-form';\n//import App from './App';\nimport firebase from'firebase';import'./index.js';//import outputForm from './OutputForm';\n//import { useList, useListKeys } from \"react-firebase-hooks/database\"\nimport{UserContext}from\"./providers/UserProvider\";//import firestore from './Firebase'\n//import firebase from \"firebase/app\";\n// var wineRef = firebase.database().ref(\"/users\");\n// const [snapshots, loading, error] = useList(wineRef );\nexport var ReviewResult=function ReviewResult(){//const reviewData = {};\nvar user=useContext(UserContext);//const {displayName, email} = user;\n//const [reviewScores, setReviewScores] = useState({})\n// const [ Balance , setBalance ] = useState(snapshot.val().Balance);\n// const [ BalanceNotes, setBalanceNotes ] = useState(snapshot.val().BalanceNotes);\n// const [ FlavorCharacteristics, setFlavorCharacteristics ] = useState(snapshot.val().FlavorCharacteristics);\n// const [ FlavorCharacteristicsNotes, setFlavorCharacteristicsNotes ] = useState(snapshot.val().FlavorCharacteristicsNotes);\n// const [ FlavorIntensity, setFlavorIntensity ] = useState(snapshot.val().FlavorIntensity);\n// const [ FlavorIntensityNotes, setFlavorIntensityNotes ] = useState(snapshot.val().FlavorIntensityNotes);\n// const [ Length, setLength ] = useState(snapshot.val().Length);\n// const [ LengthNotes, setLengthNotes ] = useState(snapshot.val().LengthNotes);\n// const [ NoseIntensity, setNoseIntensity ] = useState(snapshot.val().NoseIntensity);\n// const [ NoseIntensityNotes, setNoseIntensityNotes ] = useState(snapshot.val().NoseIntensityNotes);\n// const [ Producer, setProducer ] = useState(snapshot.val().Producer);\n// const [ TastingNotes, setTastingNotes ] = useState(snapshot.val().TastingNotes);\n// const [ Total, setTotal ] = useState(snapshot.val().Total);\n// const [ Vintage, setVintage ] = useState(snapshot.val().Vintage);\n// const [ WineName1, setWineName1 ] = useState(snapshot.val().WineName);\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),Balance=_useState2[0],setBalance=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),BalanceNotes=_useState4[0],setBalanceNotes=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),FlavorCharacteristics=_useState6[0],setFlavorCharacteristics=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),FlavorCharacteristicsNotes=_useState8[0],setFlavorCharacteristicsNotes=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),FlavorIntensity=_useState10[0],setFlavorIntensity=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),FlavorIntensityNotes=_useState12[0],setFlavorIntensityNotes=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),Length=_useState14[0],setLength=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),LengthNotes=_useState16[0],setLengthNotes=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),NoseIntensity=_useState18[0],setNoseIntensity=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),NoseIntensityNotes=_useState20[0],setNoseIntensityNotes=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),Producer=_useState22[0],setProducer=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),TastingNotes=_useState24[0],setTastingNotes=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),Total=_useState26[0],setTotal=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),Vintage=_useState28[0],setVintage=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),WineName1=_useState30[0],setWineName1=_useState30[1];// setBalance(snapshot.val().Balance);\n// setBalanceNotes(snapshot.val().BalanceNotes);\n// setFlavorCharacteristics(snapshot.val().FlavorCharacteristics);\n// setFlavorCharacteristicsNotes(snapshot.val().FlavorCharacteristicsNotes);\n// setFlavorIntensity(snapshot.val().FlavorIntensity);\n// setFlavorIntensityNotes(snapshot.val().FlavorIntensityNotes);\n// setLength(snapshot.val().Length);\n// setLengthNotes(snapshot.val().LengthNotes);\n// setNoseIntensity(snapshot.val().NoseIntensity);\n// setNoseIntensityNotes(snapshot.val().NoseIntensityNotes);\n// setProducer(snapshot.val().Producer);\n// setTastingNotes(snapshot.val().TastingNotes);\n// setTotal(snapshot.val().Total);\n// setVintage(snapshot.val().Vintage);\n// setWineName1(snapshot.val().WineName);\n// function getReview() {firebase.database().ref('/users/jds0007').on('value', function(snapshot) {\n//     console.log(snapshotToArray(snapshot));\n//     var reviewData = snapshotToArray(snapshot);\n// })};\n//var userRef = firebase.database().ref('/users/jds0007');\n//var winesRef = userRef.child(\"Wine1\");\n//let TestValue = \"TestValue\"\n//var balScore = winesRef.child(\"Balance\");\n//var wineName1 = winesRef.child(\"WineName\");\n// Test for the existence of certain keys within a DataSnapshot\n//var ref = firebase.database().ref(\"users/jds0007\");\n//var dbpathref = '/users/' + user.uid + \"/\" + wineReviewName + \"/data\"\nvar wineReviewName=\"Wine4\";var dbpathref='/users/'+user.uid+\"/\"+wineReviewName+'/data';var dbWineNames='/users/'+user.uid+\"/\";//var Answer = props => <select>{props.map((x,y) => <option key={y}>{x}</option>)}</select>;\n// var refdata = firebase.database().ref(dbpathref);\n//     ref.once(\"value\")\n//     .then(function(snapshot) {\n//         var key = snapshot.key; // \"ada\"\n//         var childKey = snapshot.child().key; // \"last\"\n// });\n//const [winesList, setWinesList] = useState([]);   \n// function updateWinesList() {\n//     let ref = firebase.database().ref(dbWineNames);\n//     ref.on('value' , snapshot => {\n//         var state = snapshot.val();\n//                 console.log(snapshot);\n//                 console.log(state);\n//         setWinesList([...winesList,{\n//             winename: state.WineName,balance: state.balance\n//         }]);\n//     });\n// };\n// function testWineList () {  \n//     var refWines = firebase.database().ref(dbWineNames);\n//         refWines.once(\"value\").then(function(snapshot) {\n//             var key = snapshot.key; // \"ada\"\n//             //var childKey = snapshot.child(\"name/last\").key; // \"last\"\n//     });\n//     console.log(refWines)\n//     alert(refWines)\n// }\n//// Create Wine List from database user's existing wine reviews\n// var query = firebase.database().ref(dbWineNames).orderByKey();        \n// query.once(\"value\")\n//     .then(function(snapshot) {\n//         snapshot.forEach(function(childSnapshot) {\n//         var key = childSnapshot.key;\n//         var childData = childSnapshot.val();\n//         console.log(key)\n//         //setWinesList(winesList => [...winesList, key])\n//     });        \n// });\n// var query = firebase.database().ref(dbWineNames).orderByKey();        \n// function setWineArray() {\n//     query.once(\"value\")\n//         .then(function (snapshot) {\n//             snapshot.forEach(function (childSnapshot) {\n//                 var key = childSnapshot.key;\n//                 var childData = childSnapshot.val();\n//                 console.log(key);\n//                 setWinesList(winesList => [...winesList, key]);\n//             });\n//         });\n// }\nvar query=firebase.database().ref(dbWineNames).orderByKey();var test=[];function handleChange(e){wineReviewName=e;alert(e);dbpathref='/users/'+user.uid+\"/\"+wineReviewName+'/data';alert(dbpathref);setReviewData();}// const [theArray, setTheArray] = useState([]);\n// const addArrayItem = (newArrayItem) => setTheArray(state => [...state, newArrayItem]);\nfunction SetWineArray(){var returnArr=[];//useEffect(() => {            \nquery.once(\"value\").then(function(snapshot){snapshot.forEach(function(childSnapshot){// var item = childSnapshot.val();\n// item.key = childSnapshot.key;\nreturnArr.push({label:childSnapshot.key,value:childSnapshot.key});//returnArr.push(item);                               \n//console.log(item)\n});});//}, []);\ntest=returnArr;return returnArr;}SetWineArray();//console.log(test)\n// let winenameList = test.map((winename, index) => {        \n//     console.log(winename)\n//     return (            \n//         <option key={winename.key} value={winename.key}>{winename.key}</option>\n//     );\n// }, this);\n// let winenameList = test.map((winename, index) => {        \n//     console.log(winename)\n//     return (            \n//         <option key={winename.key} value={winename.key}>{winename.key}</option>\n//     );\n// }, this);\nfunction setReviewData(){firebase.database().ref(dbpathref).on('value',function(snapshot){setBalance(snapshot.val().Balance);setBalanceNotes(snapshot.val().BalanceNotes);setFlavorCharacteristics(snapshot.val().FlavorCharacteristics);setFlavorCharacteristicsNotes(snapshot.val().FlavorCharacteristicsNotes);setFlavorIntensity(snapshot.val().FlavorIntensity);setFlavorIntensityNotes(snapshot.val().FlavorIntensityNotes);setLength(snapshot.val().Length);setLengthNotes(snapshot.val().LengthNotes);setNoseIntensity(snapshot.val().NoseIntensity);setNoseIntensityNotes(snapshot.val().NoseIntensityNotes);setProducer(snapshot.val().Producer);setTastingNotes(snapshot.val().TastingNotes);setTotal(snapshot.val().Total);setVintage(snapshot.val().Vintage);setWineName1(snapshot.val().WineName);});alert(\"getting review data\");}// function showScores() {\n//     return(\n//         <div>\n//             <h2>Balance: {Balance}</h2>\n//             <h2>Balance Notes: {BalanceNotes}</h2>\n//             <h2>Flavor Characteristics: {FlavorCharacteristics}</h2>\n//             <h2>Wine Name: {WineName1}</h2>\n//             <h2>Tasting Notes: {TastingNotes}</h2>\n//         </div>\n//     );\n// }\n// var refCheck = firebase.database().ref(\"/users/CGVMdF4jxZclFvfekG7y65SO6272\")\n// var refCheckData = firebase.database().ref(\"/users/CGVMdF4jxZclFvfekG7y65SO6272\").child(\"Wine4/data\")\n// //var userId = firebase.auth().currentUser.uid;\n// return firebase.database().ref('/users/jds0007/Wine1').once('value').then(function(snapshot) {\n//     var WineName2 = (snapshot.val() && snapshot.val().WineName) || 'Anonymous';\n//     var Balance2 = (snapshot.val() && snapshot.val().Balance) || 'Anonymous';\n//     // ...\n// });\n// function getReview() {\n//     firebase.database().ref(\"/users/\" + user.uid).on('value', function (snapshot) {\n//         //console.log(snapshotToArray(snapshot));\n//         var reviewData = snapshotToArray(snapshot);\n//     });\n// }\n// var wineNamesList = {};\n// function getWineNamesList() {\n//     firebase.database().ref(\"/users/\" + user.uid).on('value', function (snapshot) {\n//         //console.log(snapshotToArray(snapshot));\n//         wineNamesList = snapshotToArray(snapshot);\n//     });\n// }\n//const [wineNameOptions, setWineNameOptions] = useState([]);\n// firebase.database().ref(dbWineNames).on('value', function(snapshot) {\n//     console.log(snapshotToArray(snapshot));\n// });\n//var wineRef = firebase.database().ref(\"/users/\");\n//const [snapshots, loading, error] = useList(wineRef );\n// function snapshotToArray(snapshot) {\n//     var returnArr = [];\n//     snapshot.forEach(function(childSnapshot) {\n//         var item = childSnapshot.val();\n//         item.key = childSnapshot.key;\n//         returnArr.push(item);\n//     });\n//     return returnArr;\n// };\n// var test2 = [];\n// function SetShowResultsArray() {\n//     var returnResArr= [];       \n//         firebase.database().ref(dbpathref).on('value', (snapshot) => {\n//             //returnResArr = snapshotToArray(snapshot);\n//             snapshot.forEach(function (childSnapshot) {\n//                 returnResArr = snapshotToArray(snapshot);\n//                 //returnResArr.push({ label:childSnapshot.key, value:childSnapshot.key});  \n//                 //returnArr.push(item);                               \n//                 //console.log(item)\n//             });                \n//         });        \n//     test2 = returnResArr        \n//     return returnResArr\n//     console.log(test2)\n// }\nreturn/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Results\"})}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(Select,{options:test,isSearchable:true,onChange:function onChange(e){return handleChange(e.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"reviewresults\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Wine Name: \",WineName1]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Producer: \",Producer]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Vintage: \",Vintage]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Total: \",Total]}),/*#__PURE__*/_jsx(\"h2\",{children:\"TastingNotes:\"}),TastingNotes,/*#__PURE__*/_jsxs(\"h2\",{children:[\"Nose Intensity: \",NoseIntensity]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Nose Intensity Notes:\"}),NoseIntensityNotes,/*#__PURE__*/_jsxs(\"h2\",{children:[\"Flavor Intensity: \",FlavorIntensity]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Flavor Intensity Notes:\"}),FlavorIntensityNotes,/*#__PURE__*/_jsxs(\"h2\",{children:[\"FlavorCharacteristics: \",FlavorCharacteristics]}),/*#__PURE__*/_jsx(\"h2\",{children:\"FlavorCharacteristicsNotes:\"}),FlavorCharacteristicsNotes,/*#__PURE__*/_jsxs(\"h2\",{children:[\"Balance: \",Balance]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Balance Notes:\"}),BalanceNotes,/*#__PURE__*/_jsxs(\"h2\",{children:[\"Length: \",Length]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Length Notes:\"}),LengthNotes]})})]})});};","map":{"version":3,"sources":["C:/GitRepos/WineJS/app/src/ReviewResult.jsx"],"names":["React","Fragment","useContext","useState","Select","firebase","UserContext","ReviewResult","user","Balance","setBalance","BalanceNotes","setBalanceNotes","FlavorCharacteristics","setFlavorCharacteristics","FlavorCharacteristicsNotes","setFlavorCharacteristicsNotes","FlavorIntensity","setFlavorIntensity","FlavorIntensityNotes","setFlavorIntensityNotes","Length","setLength","LengthNotes","setLengthNotes","NoseIntensity","setNoseIntensity","NoseIntensityNotes","setNoseIntensityNotes","Producer","setProducer","TastingNotes","setTastingNotes","Total","setTotal","Vintage","setVintage","WineName1","setWineName1","wineReviewName","dbpathref","uid","dbWineNames","query","database","ref","orderByKey","test","handleChange","e","alert","setReviewData","SetWineArray","returnArr","once","then","snapshot","forEach","childSnapshot","push","label","key","value","on","val","WineName"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,CAAqCC,QAArC,KAAoD,OAApD,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA;AACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAO,YAAP,CACA;AACA;AACA,OAASC,WAAT,KAA4B,0BAA5B,CAEA;AACA;AAEA;AACA;AAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC9B;AACA,GAAMC,CAAAA,IAAI,CAAGN,UAAU,CAACI,WAAD,CAAvB,CACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArB8B,cAuBGH,QAAQ,EAvBX,wCAuBtBM,OAvBsB,eAuBZC,UAvBY,8BAwBYP,QAAQ,EAxBpB,yCAwBtBQ,YAxBsB,eAwBRC,eAxBQ,8BAyB8BT,QAAQ,EAzBtC,yCAyBtBU,qBAzBsB,eAyBCC,wBAzBD,8BA0BwCX,QAAQ,EA1BhD,yCA0BtBY,0BA1BsB,eA0BMC,6BA1BN,8BA2BkBb,QAAQ,EA3B1B,0CA2BtBc,eA3BsB,gBA2BLC,kBA3BK,gCA4B4Bf,QAAQ,EA5BpC,2CA4BtBgB,oBA5BsB,gBA4BAC,uBA5BA,gCA6BAjB,QAAQ,EA7BR,2CA6BtBkB,MA7BsB,gBA6BdC,SA7Bc,gCA8BUnB,QAAQ,EA9BlB,2CA8BtBoB,WA9BsB,gBA8BTC,cA9BS,gCA+BcrB,QAAQ,EA/BtB,2CA+BtBsB,aA/BsB,gBA+BPC,gBA/BO,gCAgCwBvB,QAAQ,EAhChC,2CAgCtBwB,kBAhCsB,gBAgCFC,qBAhCE,gCAiCIzB,QAAQ,EAjCZ,2CAiCtB0B,QAjCsB,gBAiCZC,WAjCY,gCAkCY3B,QAAQ,EAlCpB,2CAkCtB4B,YAlCsB,gBAkCRC,eAlCQ,gCAmCF7B,QAAQ,EAnCN,2CAmCtB8B,KAnCsB,gBAmCfC,QAnCe,gCAoCE/B,QAAQ,EApCV,2CAoCtBgC,OApCsB,gBAoCbC,UApCa,gCAqCMjC,QAAQ,EArCd,2CAqCtBkC,SArCsB,gBAqCXC,YArCW,gBAyC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA,GAAIC,CAAAA,cAAc,CAAG,OAArB,CACA,GAAIC,CAAAA,SAAS,CAAG,UAAYhC,IAAI,CAACiC,GAAjB,CAAuB,GAAvB,CAA6BF,cAA7B,CAA8C,OAA9D,CACA,GAAIG,CAAAA,WAAW,CAAG,UAAYlC,IAAI,CAACiC,GAAjB,CAAuB,GAAzC,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,GAAIE,CAAAA,KAAK,CAAGtC,QAAQ,CAACuC,QAAT,GAAoBC,GAApB,CAAwBH,WAAxB,EAAqCI,UAArC,EAAZ,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CAEA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACpBV,cAAc,CAAGU,CAAjB,CACAC,KAAK,CAACD,CAAD,CAAL,CACAT,SAAS,CAAG,UAAYhC,IAAI,CAACiC,GAAjB,CAAuB,GAAvB,CAA6BF,cAA7B,CAA8C,OAA1D,CACAW,KAAK,CAACV,SAAD,CAAL,CACAW,aAAa,GAChB,CAGD;AACA;AAEA,QAASC,CAAAA,YAAT,EAAwB,CACpB,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACI;AACIV,KAAK,CAACW,IAAN,CAAW,OAAX,EAAoBC,IAApB,CAAyB,SAAUC,QAAV,CAAoB,CACzCA,QAAQ,CAACC,OAAT,CAAiB,SAAUC,aAAV,CAAyB,CACtC;AACA;AACAL,SAAS,CAACM,IAAV,CAAe,CAAEC,KAAK,CAACF,aAAa,CAACG,GAAtB,CAA2BC,KAAK,CAACJ,aAAa,CAACG,GAA/C,CAAf,EACA;AACA;AACH,CAND,EAOH,CARD,EAUJ;AACJd,IAAI,CAAGM,SAAP,CACA,MAAOA,CAAAA,SAAP,CACH,CACDD,YAAY,GACZ;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA,QAASD,CAAAA,aAAT,EAAyB,CACrB9C,QAAQ,CAACuC,QAAT,GAAoBC,GAApB,CAAwBL,SAAxB,EAAmCuB,EAAnC,CAAsC,OAAtC,CAA+C,SAACP,QAAD,CAAc,CACzD9C,UAAU,CAAC8C,QAAQ,CAACQ,GAAT,GAAevD,OAAhB,CAAV,CACAG,eAAe,CAAC4C,QAAQ,CAACQ,GAAT,GAAerD,YAAhB,CAAf,CACAG,wBAAwB,CAAC0C,QAAQ,CAACQ,GAAT,GAAenD,qBAAhB,CAAxB,CACAG,6BAA6B,CAACwC,QAAQ,CAACQ,GAAT,GAAejD,0BAAhB,CAA7B,CACAG,kBAAkB,CAACsC,QAAQ,CAACQ,GAAT,GAAe/C,eAAhB,CAAlB,CACAG,uBAAuB,CAACoC,QAAQ,CAACQ,GAAT,GAAe7C,oBAAhB,CAAvB,CACAG,SAAS,CAACkC,QAAQ,CAACQ,GAAT,GAAe3C,MAAhB,CAAT,CACAG,cAAc,CAACgC,QAAQ,CAACQ,GAAT,GAAezC,WAAhB,CAAd,CACAG,gBAAgB,CAAC8B,QAAQ,CAACQ,GAAT,GAAevC,aAAhB,CAAhB,CACAG,qBAAqB,CAAC4B,QAAQ,CAACQ,GAAT,GAAerC,kBAAhB,CAArB,CACAG,WAAW,CAAC0B,QAAQ,CAACQ,GAAT,GAAenC,QAAhB,CAAX,CACAG,eAAe,CAACwB,QAAQ,CAACQ,GAAT,GAAejC,YAAhB,CAAf,CACAG,QAAQ,CAACsB,QAAQ,CAACQ,GAAT,GAAe/B,KAAhB,CAAR,CACAG,UAAU,CAACoB,QAAQ,CAACQ,GAAT,GAAe7B,OAAhB,CAAV,CACAG,YAAY,CAACkB,QAAQ,CAACQ,GAAT,GAAeC,QAAhB,CAAZ,CACH,CAhBD,EAiBAf,KAAK,CAAC,qBAAD,CAAL,CACH,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACI,KAAC,QAAD,wBACI,oCACI,kCACI,+BADJ,EADJ,cAII,mCACI,KAAC,MAAD,EAAQ,OAAO,CAAGH,IAAlB,CAAyB,YAAY,CAAE,IAAvC,CAA6C,QAAQ,CAAE,kBAAAE,CAAC,QAAID,CAAAA,YAAY,CAACC,CAAC,CAACa,KAAH,CAAhB,EAAxD,EADJ,EAJJ,cAOI,kCACI,8CACI,oCAAgBzB,SAAhB,GADJ,cAEI,mCAAeR,QAAf,GAFJ,cAGI,kCAAcM,OAAd,GAHJ,cAII,gCAAYF,KAAZ,GAJJ,cAKI,qCALJ,CAMKF,YANL,cAOI,yCAAqBN,aAArB,GAPJ,cAQI,6CARJ,CASKE,kBATL,cAUI,2CAAuBV,eAAvB,GAVJ,cAWI,+CAXJ,CAYKE,oBAZL,cAaI,gDAA4BN,qBAA5B,GAbJ,cAcI,mDAdJ,CAeKE,0BAfL,cAgBI,kCAAcN,OAAd,GAhBJ,cAiBI,sCAjBJ,CAkBKE,YAlBL,cAmBI,iCAAaU,MAAb,GAnBJ,cAoBI,qCApBJ,CAqBKE,WArBL,GADJ,EAPJ,GADJ,EADJ,CAqCH,CA1UM","sourcesContent":["import React, {Fragment, useContext, useState} from 'react';\r\nimport Select from 'react-select'\r\n//import { useForm } from 'react-hook-form';\r\n//import App from './App';\r\nimport firebase from 'firebase';\r\nimport './index.js';\r\n//import outputForm from './OutputForm';\r\n//import { useList, useListKeys } from \"react-firebase-hooks/database\"\r\nimport { UserContext } from \"./providers/UserProvider\";\r\n\r\n//import firestore from './Firebase'\r\n//import firebase from \"firebase/app\";\r\n\r\n// var wineRef = firebase.database().ref(\"/users\");\r\n// const [snapshots, loading, error] = useList(wineRef );\r\n\r\nexport const ReviewResult = () => {\r\n    //const reviewData = {};\r\n    const user = useContext(UserContext);\r\n    //const {displayName, email} = user;\r\n\r\n    //const [reviewScores, setReviewScores] = useState({})\r\n\r\n    // const [ Balance , setBalance ] = useState(snapshot.val().Balance);\r\n    // const [ BalanceNotes, setBalanceNotes ] = useState(snapshot.val().BalanceNotes);\r\n    // const [ FlavorCharacteristics, setFlavorCharacteristics ] = useState(snapshot.val().FlavorCharacteristics);\r\n    // const [ FlavorCharacteristicsNotes, setFlavorCharacteristicsNotes ] = useState(snapshot.val().FlavorCharacteristicsNotes);\r\n    // const [ FlavorIntensity, setFlavorIntensity ] = useState(snapshot.val().FlavorIntensity);\r\n    // const [ FlavorIntensityNotes, setFlavorIntensityNotes ] = useState(snapshot.val().FlavorIntensityNotes);\r\n    // const [ Length, setLength ] = useState(snapshot.val().Length);\r\n    // const [ LengthNotes, setLengthNotes ] = useState(snapshot.val().LengthNotes);\r\n    // const [ NoseIntensity, setNoseIntensity ] = useState(snapshot.val().NoseIntensity);\r\n    // const [ NoseIntensityNotes, setNoseIntensityNotes ] = useState(snapshot.val().NoseIntensityNotes);\r\n    // const [ Producer, setProducer ] = useState(snapshot.val().Producer);\r\n    // const [ TastingNotes, setTastingNotes ] = useState(snapshot.val().TastingNotes);\r\n    // const [ Total, setTotal ] = useState(snapshot.val().Total);\r\n    // const [ Vintage, setVintage ] = useState(snapshot.val().Vintage);\r\n    // const [ WineName1, setWineName1 ] = useState(snapshot.val().WineName);\r\n    \r\n    const [ Balance , setBalance ] = useState();\r\n    const [ BalanceNotes, setBalanceNotes ] = useState();\r\n    const [ FlavorCharacteristics, setFlavorCharacteristics ] = useState();\r\n    const [ FlavorCharacteristicsNotes, setFlavorCharacteristicsNotes ] = useState();\r\n    const [ FlavorIntensity, setFlavorIntensity ] = useState();\r\n    const [ FlavorIntensityNotes, setFlavorIntensityNotes ] = useState();\r\n    const [ Length, setLength ] = useState();\r\n    const [ LengthNotes, setLengthNotes ] = useState();\r\n    const [ NoseIntensity, setNoseIntensity ] = useState();\r\n    const [ NoseIntensityNotes, setNoseIntensityNotes ] = useState();\r\n    const [ Producer, setProducer ] = useState();\r\n    const [ TastingNotes, setTastingNotes ] = useState();\r\n    const [ Total, setTotal ] = useState();\r\n    const [ Vintage, setVintage ] = useState();\r\n    const [ WineName1, setWineName1 ] = useState();\r\n\r\n\r\n\r\n    // setBalance(snapshot.val().Balance);\r\n    // setBalanceNotes(snapshot.val().BalanceNotes);\r\n    // setFlavorCharacteristics(snapshot.val().FlavorCharacteristics);\r\n    // setFlavorCharacteristicsNotes(snapshot.val().FlavorCharacteristicsNotes);\r\n    // setFlavorIntensity(snapshot.val().FlavorIntensity);\r\n    // setFlavorIntensityNotes(snapshot.val().FlavorIntensityNotes);\r\n    // setLength(snapshot.val().Length);\r\n    // setLengthNotes(snapshot.val().LengthNotes);\r\n    // setNoseIntensity(snapshot.val().NoseIntensity);\r\n    // setNoseIntensityNotes(snapshot.val().NoseIntensityNotes);\r\n    // setProducer(snapshot.val().Producer);\r\n    // setTastingNotes(snapshot.val().TastingNotes);\r\n    // setTotal(snapshot.val().Total);\r\n    // setVintage(snapshot.val().Vintage);\r\n    // setWineName1(snapshot.val().WineName);\r\n\r\n    // function getReview() {firebase.database().ref('/users/jds0007').on('value', function(snapshot) {\r\n    //     console.log(snapshotToArray(snapshot));\r\n    //     var reviewData = snapshotToArray(snapshot);\r\n    // })};\r\n\r\n    //var userRef = firebase.database().ref('/users/jds0007');\r\n    //var winesRef = userRef.child(\"Wine1\");\r\n    //let TestValue = \"TestValue\"\r\n\r\n    //var balScore = winesRef.child(\"Balance\");\r\n    //var wineName1 = winesRef.child(\"WineName\");\r\n\r\n    // Test for the existence of certain keys within a DataSnapshot\r\n    //var ref = firebase.database().ref(\"users/jds0007\");\r\n\r\n    //var dbpathref = '/users/' + user.uid + \"/\" + wineReviewName + \"/data\"\r\n\r\n    var wineReviewName = \"Wine4\"\r\n    var dbpathref = '/users/' + user.uid + \"/\" + wineReviewName + '/data'\r\n    var dbWineNames = '/users/' + user.uid + \"/\"\r\n\r\n    //var Answer = props => <select>{props.map((x,y) => <option key={y}>{x}</option>)}</select>;\r\n\r\n    // var refdata = firebase.database().ref(dbpathref);\r\n    //     ref.once(\"value\")\r\n    //     .then(function(snapshot) {\r\n    //         var key = snapshot.key; // \"ada\"\r\n    //         var childKey = snapshot.child().key; // \"last\"\r\n    // });\r\n\r\n    //const [winesList, setWinesList] = useState([]);   \r\n    \r\n    // function updateWinesList() {\r\n    //     let ref = firebase.database().ref(dbWineNames);\r\n    //     ref.on('value' , snapshot => {\r\n    //         var state = snapshot.val();\r\n    //                 console.log(snapshot);\r\n    //                 console.log(state);\r\n    //         setWinesList([...winesList,{\r\n    //             winename: state.WineName,balance: state.balance\r\n    //         }]);\r\n    //     });\r\n    // };\r\n    \r\n    \r\n    // function testWineList () {  \r\n    //     var refWines = firebase.database().ref(dbWineNames);\r\n    //         refWines.once(\"value\").then(function(snapshot) {\r\n    //             var key = snapshot.key; // \"ada\"\r\n    //             //var childKey = snapshot.child(\"name/last\").key; // \"last\"\r\n    //     });\r\n    //     console.log(refWines)\r\n    //     alert(refWines)\r\n    // }\r\n\r\n\r\n    //// Create Wine List from database user's existing wine reviews\r\n    // var query = firebase.database().ref(dbWineNames).orderByKey();        \r\n    // query.once(\"value\")\r\n    //     .then(function(snapshot) {\r\n    //         snapshot.forEach(function(childSnapshot) {\r\n    //         var key = childSnapshot.key;\r\n    //         var childData = childSnapshot.val();\r\n    //         console.log(key)\r\n    //         //setWinesList(winesList => [...winesList, key])\r\n    //     });        \r\n    // });\r\n\r\n    // var query = firebase.database().ref(dbWineNames).orderByKey();        \r\n    // function setWineArray() {\r\n    //     query.once(\"value\")\r\n    //         .then(function (snapshot) {\r\n    //             snapshot.forEach(function (childSnapshot) {\r\n    //                 var key = childSnapshot.key;\r\n    //                 var childData = childSnapshot.val();\r\n    //                 console.log(key);\r\n    //                 setWinesList(winesList => [...winesList, key]);\r\n    //             });\r\n    //         });\r\n    // }\r\n\r\n\r\n    var query = firebase.database().ref(dbWineNames).orderByKey();   \r\n    var test = [];\r\n\r\n    function handleChange(e){\r\n        wineReviewName = e;\r\n        alert(e);\r\n        dbpathref = '/users/' + user.uid + \"/\" + wineReviewName + '/data'\r\n        alert(dbpathref)\r\n        setReviewData()        \r\n    }\r\n\r\n\r\n    // const [theArray, setTheArray] = useState([]);\r\n    // const addArrayItem = (newArrayItem) => setTheArray(state => [...state, newArrayItem]);\r\n\r\n    function SetWineArray() {\r\n        var returnArr = [];\r\n            //useEffect(() => {            \r\n                query.once(\"value\").then(function (snapshot) {\r\n                    snapshot.forEach(function (childSnapshot) {\r\n                        // var item = childSnapshot.val();\r\n                        // item.key = childSnapshot.key;\r\n                        returnArr.push({ label:childSnapshot.key, value:childSnapshot.key});  \r\n                        //returnArr.push(item);                               \r\n                        //console.log(item)\r\n                    });                \r\n                });        \r\n\r\n            //}, []);\r\n        test = returnArr        \r\n        return returnArr\r\n    }\r\n    SetWineArray()\r\n    //console.log(test)\r\n\r\n\r\n    // let winenameList = test.map((winename, index) => {        \r\n    //     console.log(winename)\r\n    //     return (            \r\n    //         <option key={winename.key} value={winename.key}>{winename.key}</option>\r\n    //     );\r\n    // }, this);\r\n\r\n    // let winenameList = test.map((winename, index) => {        \r\n    //     console.log(winename)\r\n    //     return (            \r\n    //         <option key={winename.key} value={winename.key}>{winename.key}</option>\r\n    //     );\r\n    // }, this);\r\n\r\n\r\n    function setReviewData() {\r\n        firebase.database().ref(dbpathref).on('value', (snapshot) => {\r\n            setBalance(snapshot.val().Balance);\r\n            setBalanceNotes(snapshot.val().BalanceNotes);\r\n            setFlavorCharacteristics(snapshot.val().FlavorCharacteristics);\r\n            setFlavorCharacteristicsNotes(snapshot.val().FlavorCharacteristicsNotes);\r\n            setFlavorIntensity(snapshot.val().FlavorIntensity);\r\n            setFlavorIntensityNotes(snapshot.val().FlavorIntensityNotes);\r\n            setLength(snapshot.val().Length);\r\n            setLengthNotes(snapshot.val().LengthNotes);\r\n            setNoseIntensity(snapshot.val().NoseIntensity);\r\n            setNoseIntensityNotes(snapshot.val().NoseIntensityNotes);\r\n            setProducer(snapshot.val().Producer);\r\n            setTastingNotes(snapshot.val().TastingNotes);\r\n            setTotal(snapshot.val().Total);\r\n            setVintage(snapshot.val().Vintage);\r\n            setWineName1(snapshot.val().WineName);\r\n        });\r\n        alert(\"getting review data\")\r\n    }\r\n    \r\n    // function showScores() {\r\n    //     return(\r\n    //         <div>\r\n    //             <h2>Balance: {Balance}</h2>\r\n    //             <h2>Balance Notes: {BalanceNotes}</h2>\r\n    //             <h2>Flavor Characteristics: {FlavorCharacteristics}</h2>\r\n    //             <h2>Wine Name: {WineName1}</h2>\r\n    //             <h2>Tasting Notes: {TastingNotes}</h2>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n    \r\n    \r\n\r\n\r\n    // var refCheck = firebase.database().ref(\"/users/CGVMdF4jxZclFvfekG7y65SO6272\")\r\n    // var refCheckData = firebase.database().ref(\"/users/CGVMdF4jxZclFvfekG7y65SO6272\").child(\"Wine4/data\")\r\n\r\n\r\n    // //var userId = firebase.auth().currentUser.uid;\r\n    // return firebase.database().ref('/users/jds0007/Wine1').once('value').then(function(snapshot) {\r\n    //     var WineName2 = (snapshot.val() && snapshot.val().WineName) || 'Anonymous';\r\n    //     var Balance2 = (snapshot.val() && snapshot.val().Balance) || 'Anonymous';\r\n    //     // ...\r\n    // });\r\n\r\n    // function getReview() {\r\n    //     firebase.database().ref(\"/users/\" + user.uid).on('value', function (snapshot) {\r\n    //         //console.log(snapshotToArray(snapshot));\r\n    //         var reviewData = snapshotToArray(snapshot);\r\n    //     });\r\n    // }\r\n\r\n    // var wineNamesList = {};\r\n    // function getWineNamesList() {\r\n    //     firebase.database().ref(\"/users/\" + user.uid).on('value', function (snapshot) {\r\n    //         //console.log(snapshotToArray(snapshot));\r\n    //         wineNamesList = snapshotToArray(snapshot);\r\n    //     });\r\n    // }\r\n\r\n\r\n    //const [wineNameOptions, setWineNameOptions] = useState([]);\r\n\r\n    // firebase.database().ref(dbWineNames).on('value', function(snapshot) {\r\n    //     console.log(snapshotToArray(snapshot));\r\n    // });\r\n\r\n    //var wineRef = firebase.database().ref(\"/users/\");\r\n    //const [snapshots, loading, error] = useList(wineRef );\r\n\r\n    // function snapshotToArray(snapshot) {\r\n    //     var returnArr = [];\r\n    \r\n    //     snapshot.forEach(function(childSnapshot) {\r\n    //         var item = childSnapshot.val();\r\n    //         item.key = childSnapshot.key;\r\n    \r\n    //         returnArr.push(item);\r\n    //     });\r\n    \r\n    //     return returnArr;\r\n    // };\r\n\r\n\r\n    // var test2 = [];\r\n    // function SetShowResultsArray() {\r\n    //     var returnResArr= [];       \r\n    //         firebase.database().ref(dbpathref).on('value', (snapshot) => {\r\n    //             //returnResArr = snapshotToArray(snapshot);\r\n    //             snapshot.forEach(function (childSnapshot) {\r\n    //                 returnResArr = snapshotToArray(snapshot);\r\n    //                 //returnResArr.push({ label:childSnapshot.key, value:childSnapshot.key});  \r\n    //                 //returnArr.push(item);                               \r\n    //                 //console.log(item)\r\n    //             });                \r\n    //         });        \r\n    //     test2 = returnResArr        \r\n    //     return returnResArr\r\n    //     console.log(test2)\r\n    // }\r\n    \r\n    return(\r\n        <Fragment>\r\n            <div>\r\n                <div>\r\n                    <h1>Results</h1>\r\n                </div>\r\n                <form>\r\n                    <Select options={ test } isSearchable={true} onChange={e => handleChange(e.value)} />\r\n                </form>\r\n                <div>\r\n                    <reviewresults>\r\n                        <h1>Wine Name: {WineName1}</h1>\r\n                        <h2>Producer: {Producer}</h2>\r\n                        <h2>Vintage: {Vintage}</h2>\r\n                        <h2>Total: {Total}</h2>\r\n                        <h2>TastingNotes:</h2>\r\n                        {TastingNotes}\r\n                        <h2>Nose Intensity: {NoseIntensity}</h2>\r\n                        <h2>Nose Intensity Notes:</h2>\r\n                        {NoseIntensityNotes}\r\n                        <h2>Flavor Intensity: {FlavorIntensity}</h2>\r\n                        <h2>Flavor Intensity Notes:</h2>\r\n                        {FlavorIntensityNotes}\r\n                        <h2>FlavorCharacteristics: {FlavorCharacteristics}</h2>\r\n                        <h2>FlavorCharacteristicsNotes:</h2>\r\n                        {FlavorCharacteristicsNotes}\r\n                        <h2>Balance: {Balance}</h2>\r\n                        <h2>Balance Notes:</h2>\r\n                        {BalanceNotes}\r\n                        <h2>Length: {Length}</h2>\r\n                        <h2>Length Notes:</h2>\r\n                        {LengthNotes}\r\n                    </reviewresults>\r\n                </div>               \r\n            </div>\r\n        </Fragment>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}