{"ast":null,"code":"import _slicedToArray from\"C:/GitRepos/WineJS/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext}from'react';import{useForm}from'react-hook-form';import useToggle from'./useToggle';import{Redirect}from'react-router-dom';import'./index.js';//import {Routes} from './Routes';\n//import {db} from './Config';\n//import {Firebase} from './Config';\n//import firebase from 'firebase';\nimport UserProvider,{UserContext}from\"./providers/UserProvider\";//import firestore from './Firebase'\nimport firebase from\"firebase/app\";export default function Review(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),valueNOSE=_useState2[0],setValueNOSE=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),valueINTENSE=_useState4[0],setValueINTENSE=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),valueCHAR=_useState6[0],setValueCHAR=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),valueBAL=_useState8[0],setValueBAL=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),valueLEN=_useState10[0],setValueLEN=_useState10[1];var totalValue=Number(valueNOSE)+Number(valueINTENSE)+Number(valueCHAR)+Number(valueBAL)+Number(valueLEN);if(totalValue!==0){totalValue=50+totalValue;}//const [isOn, toggleIsOn] = useToggle();\n//let valueAll = \"\"\nvar sampleData=\"\";var user=useContext(UserContext);//const {displayName, email} = user;\nvar _useToggle=useToggle(),_useToggle2=_slicedToArray(_useToggle,2),hideNoseNotes=_useToggle2[0],toggleNoseNotes=_useToggle2[1];var _useToggle3=useToggle(),_useToggle4=_slicedToArray(_useToggle3,2),hideIntenseNotes=_useToggle4[0],toggleIntenseNotes=_useToggle4[1];var _useToggle5=useToggle(),_useToggle6=_slicedToArray(_useToggle5,2),hideCharNotes=_useToggle6[0],toggleCharNotes=_useToggle6[1];var _useToggle7=useToggle(),_useToggle8=_slicedToArray(_useToggle7,2),hideBalNotes=_useToggle8[0],toggleBalNotes=_useToggle8[1];var _useToggle9=useToggle(),_useToggle10=_slicedToArray(_useToggle9,2),hideLenNotes=_useToggle10[0],toggleLenNotes=_useToggle10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),toResults=_useState12[0],setToResults=_useState12[1];//var database = firebase.database();\n//   function writeToDatabase(userId, data) {\n//     firebase.database().ref('users/' + userId + '/' + data.WineName).set({\n//       data      \n//     });\n//   }\nfunction writeToDatabase(userId,data){firebase.database().ref('users/'+userId+'/'+data.WineName).set({data:data});}// function readDatabase() {\n//   return firebase.database().ref('/users/').once('value').then(function(snapshot) {\n//       var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';\n//   });\n// }\n// const readAllDatabase = () => {\n//   return firebase.database().ref('users/jds007/')\n// };\nfunction onSubmit(data){alert(\"Successfully submitted form\");writeToDatabase(user.uid,data);setToResults(true);}// function updateTextInput(val,changeID) {\n//   document.getElementById(changeID).value=val;\n// }\nconsole.log(errors);return/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"WineJS Wine Review\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"WineJS Review\"})}),toResults?/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/reviewresult\",state:{data:sampleData}}}):null,/*#__PURE__*/_jsx(\"h2\",{children:\"Producer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Producer\",name:\"Producer\",ref:register}),/*#__PURE__*/_jsx(\"h2\",{children:\"Wine Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Wine Name\",name:\"WineName\",ref:register({required:\"Wine Name is Required\",maxLength:100})}),errors.WineName&&/*#__PURE__*/_jsx(\"p\",{children:errors.WineName.message}),/*#__PURE__*/_jsx(\"h2\",{children:\"Vintage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Vintage\",name:\"Vintage\",ref:register({min:1900,max:2030})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Nose Intensity\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:valueNOSE}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"NoseIntensity\",name:\"NoseIntensity\",min:\"1\",max:\"5\",defaultValue:\"0\",onChange:function onChange(e){return setValueNOSE(e.target.value);},ref:register}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleNoseNotes,value:\"\",children:\"Show/hide notes\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"small\",name:\"NoseIntensityNotes\",hideit:hideNoseNotes?\"true\":\"false\",ref:register}),errors.NoseIntensity&&/*#__PURE__*/_jsx(\"p\",{children:\"Value must be at least 1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Flavor Intensity\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:valueINTENSE}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"FlavorIntensity\",name:\"FlavorIntensity\",min:\"1\",max:\"10\",defaultValue:\"0\",onChange:function onChange(e){return setValueINTENSE(e.target.value);},ref:register}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleIntenseNotes,value:\"\",children:\"Show/hide notes\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"small\",name:\"FlavorIntensityNotes\",hideit:hideIntenseNotes?\"true\":\"false\",ref:register}),errors.FlavorIntensity&&/*#__PURE__*/_jsx(\"p\",{children:\"Value must be at least 1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Flavor Characteristics\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:valueCHAR}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"FlavorCharacteristics\",name:\"FlavorCharacteristics\",min:\"1\",max:\"25\",defaultValue:\"0\",onChange:function onChange(e){return setValueCHAR(e.target.value);},ref:register}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleCharNotes,value:\"\",children:\"Show/hide notes\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"small\",name:\"FlavorCharacteristicsNotes\",hideit:hideCharNotes?\"true\":\"false\",ref:register}),errors.FlavorCharacteristics&&/*#__PURE__*/_jsx(\"p\",{children:\"Value must be at least 1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Balance\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:valueBAL}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"Balance\",name:\"Balance\",min:\"1\",max:\"5\",defaultValue:\"0\",onChange:function onChange(e){return setValueBAL(e.target.value);},ref:register}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleBalNotes,value:\"\",children:\"Show/hide notes\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"small\",name:\"BalanceNotes\",hideit:hideBalNotes?\"true\":\"false\",ref:register}),errors.Balance&&/*#__PURE__*/_jsx(\"p\",{children:\"Value must be at least 1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Length\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:valueLEN}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"Length\",name:\"Length\",min:\"1\",max:\"5\",defaultValue:\"0\",onChange:function onChange(e){return setValueLEN(e.target.value);},ref:register}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleLenNotes,value:\"\",children:\"Show/hide notes\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"small\",name:\"LengthNotes\",hideit:hideLenNotes?\"true\":\"false\",ref:register}),errors.Length&&/*#__PURE__*/_jsx(\"p\",{children:\"Value must be at least 1\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"div\",{class:\"value\",children:totalValue}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"Total\",name:\"Total\",defaultValue:totalValue,ref:register}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tasting Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"TastingNotes\",ref:register}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:handleSubmit(onSubmit)})]})});}","map":{"version":3,"sources":["C:/GitRepos/WineJS/app/src/Review.js"],"names":["React","useState","useContext","useForm","useToggle","Redirect","UserProvider","UserContext","firebase","Review","register","handleSubmit","errors","valueNOSE","setValueNOSE","valueINTENSE","setValueINTENSE","valueCHAR","setValueCHAR","valueBAL","setValueBAL","valueLEN","setValueLEN","totalValue","Number","sampleData","user","hideNoseNotes","toggleNoseNotes","hideIntenseNotes","toggleIntenseNotes","hideCharNotes","toggleCharNotes","hideBalNotes","toggleBalNotes","hideLenNotes","toggleLenNotes","toResults","setToResults","writeToDatabase","userId","data","database","ref","WineName","set","onSubmit","alert","uid","console","log","pathname","state","required","maxLength","message","min","max","e","target","value","NoseIntensity","FlavorIntensity","FlavorCharacteristics","Balance","Length"],"mappings":"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","sourcesContent":["import React, {useState, useContext } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport useToggle from './useToggle';\r\nimport {Redirect} from 'react-router-dom';\r\nimport './index.js';\r\n//import {Routes} from './Routes';\r\n//import {db} from './Config';\r\n//import {Firebase} from './Config';\r\n//import firebase from 'firebase';\r\nimport UserProvider, { UserContext } from \"./providers/UserProvider\";\r\n//import firestore from './Firebase'\r\nimport firebase from \"firebase/app\";\r\n\r\nexport default function Review() {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [valueNOSE, setValueNOSE] = useState(0);\r\n  const [valueINTENSE, setValueINTENSE] = useState(0);\r\n  const [valueCHAR, setValueCHAR] = useState(0);\r\n  const [valueBAL, setValueBAL] = useState(0);\r\n  const [valueLEN, setValueLEN] = useState(0);\r\n  let totalValue = (Number(valueNOSE) + Number(valueINTENSE) + Number(valueCHAR) + Number(valueBAL) + Number(valueLEN))\r\n  if ( totalValue !== 0 ) {\r\n    totalValue = 50 + totalValue\r\n  } \r\n\r\n  //const [isOn, toggleIsOn] = useToggle();\r\n\r\n  //let valueAll = \"\"\r\n  let sampleData = \"\"\r\n\r\n  const user = useContext(UserContext);\r\n  //const {displayName, email} = user;\r\n\r\n  const [hideNoseNotes, toggleNoseNotes] = useToggle();\r\n  const [hideIntenseNotes, toggleIntenseNotes] = useToggle();\r\n  const [hideCharNotes, toggleCharNotes] = useToggle();\r\n  const [hideBalNotes, toggleBalNotes] = useToggle();\r\n  const [hideLenNotes, toggleLenNotes] = useToggle();\r\n\r\n  const [toResults, setToResults] = useState(false);\r\n  //var database = firebase.database();\r\n\r\n//   function writeToDatabase(userId, data) {\r\n//     firebase.database().ref('users/' + userId + '/' + data.WineName).set({\r\n//       data      \r\n//     });\r\n//   }\r\n\r\n  function writeToDatabase(userId, data) {\r\n    firebase.database().ref('users/' + userId + '/' + data.WineName).set({\r\n      data    \r\n    });\r\n  }\r\n\r\n  // function readDatabase() {\r\n  //   return firebase.database().ref('/users/').once('value').then(function(snapshot) {\r\n  //       var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';\r\n  //   });\r\n  // }\r\n\r\n  // const readAllDatabase = () => {\r\n  //   return firebase.database().ref('users/jds007/')\r\n  // };\r\n\r\n  function onSubmit(data) {\r\n    alert(\"Successfully submitted form\");\r\n    writeToDatabase(user.uid,data);\r\n    setToResults(true)\r\n  }\r\n\r\n  // function updateTextInput(val,changeID) {\r\n  //   document.getElementById(changeID).value=val;\r\n  // }\r\n\r\n  console.log(errors);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <UserProvider>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"WineJS Wine Review\">\r\n            <h1>WineJS Review</h1>\r\n        </div>\r\n\r\n        {toResults ? <Redirect to={{ pathname:\"/reviewresult\", state: { data: sampleData }}} /> : null}\r\n            \r\n        <h2>Producer</h2>\r\n        <input type=\"text\" placeholder=\"Producer\" name=\"Producer\" ref={register} />\r\n\r\n        <h2>Wine Name</h2>\r\n        <input type=\"text\" placeholder=\"Wine Name\" name=\"WineName\" ref={register({required: \"Wine Name is Required\", maxLength: 100})} />\r\n        {errors.WineName && <p>{errors.WineName.message}</p> }\r\n\r\n        <h2>Vintage</h2>\r\n        <input type=\"number\" placeholder=\"Vintage\" name=\"Vintage\" ref={register({min: 1900,max: 2030})} />\r\n\r\n        <h3>Nose Intensity</h3>\r\n        <div class=\"value\">{valueNOSE}</div>\r\n        <input type=\"range\" id=\"NoseIntensity\" name=\"NoseIntensity\" min=\"1\" max=\"5\" defaultValue=\"0\" onChange={e => setValueNOSE(e.target.value)} ref={register} />\r\n\r\n        <button type=\"button\" onClick={toggleNoseNotes} value=\"\" >Show/hide notes</button>\r\n        <textarea type=\"small\" name=\"NoseIntensityNotes\" hideit={hideNoseNotes ? \"true\" : \"false\"} ref={register} />\r\n        {errors.NoseIntensity && <p>Value must be at least 1</p> }\r\n\r\n        <h3>Flavor Intensity</h3>\r\n        <div class=\"value\">{valueINTENSE}</div>\r\n        <input type=\"range\" id=\"FlavorIntensity\" name=\"FlavorIntensity\" min=\"1\" max=\"10\" defaultValue=\"0\" onChange={e => setValueINTENSE(e.target.value)} ref={register} />\r\n        <button type=\"button\" onClick={toggleIntenseNotes} value=\"\" >Show/hide notes</button>\r\n        <textarea type=\"small\" name=\"FlavorIntensityNotes\" hideit={hideIntenseNotes ? \"true\" : \"false\"} ref={register} />\r\n        {errors.FlavorIntensity && <p>Value must be at least 1</p> }\r\n\r\n        <h3>Flavor Characteristics</h3>\r\n        {/* <input type=\"range\" id=\"FlavorCharacteristics\" name=\"FlavorCharacteristics\" min=\"0\" max=\"25\" defaultValue=\"0\" onChange={e => updateTextInput(e.target.value,'FlavorScore')} ref={register} /> */}\r\n        <div class=\"value\">{valueCHAR}</div>\r\n        <input type=\"range\" id=\"FlavorCharacteristics\" name=\"FlavorCharacteristics\" min=\"1\" max=\"25\" defaultValue=\"0\" onChange={e => setValueCHAR(e.target.value)} ref={register} />\r\n        <button type=\"button\" onClick={toggleCharNotes} value=\"\" >Show/hide notes</button>\r\n        <textarea type=\"small\" name=\"FlavorCharacteristicsNotes\" hideit={hideCharNotes ? \"true\" : \"false\"} ref={register} />\r\n        {errors.FlavorCharacteristics && <p>Value must be at least 1</p> }\r\n\r\n        <h3>Balance</h3>\r\n        <div class=\"value\">{valueBAL}</div>\r\n        <input type=\"range\" id=\"Balance\" name=\"Balance\" min=\"1\" max=\"5\" defaultValue=\"0\" onChange={e => setValueBAL(e.target.value)} ref={register} />\r\n        <button type=\"button\" onClick={toggleBalNotes} value=\"\" >Show/hide notes</button>\r\n        <textarea type=\"small\" name=\"BalanceNotes\" hideit={hideBalNotes ? \"true\" : \"false\"} ref={register} />\r\n        {errors.Balance && <p>Value must be at least 1</p> }\r\n\r\n        <h3>Length</h3>\r\n        <div class=\"value\">{valueLEN}</div>\r\n        <input type=\"range\" id=\"Length\" name=\"Length\" min=\"1\" max=\"5\" defaultValue=\"0\" onChange={e => setValueLEN(e.target.value)} ref={register} />\r\n        <button type=\"button\" onClick={toggleLenNotes} value=\"\" >Show/hide notes</button>\r\n        <textarea type=\"small\" name=\"LengthNotes\" hideit={hideLenNotes ? \"true\" : \"false\"} ref={register} />\r\n        {errors.Length && <p>Value must be at least 1</p> }\r\n\r\n        <h4>Total</h4>\r\n        <div class=\"value\">{totalValue}</div>\r\n        <input type=\"hidden\" id=\"Total\" name=\"Total\" defaultValue={totalValue} ref={register}/>\r\n\r\n        <h2>Tasting Notes</h2>\r\n        <textarea name=\"TastingNotes\" ref={register} />\r\n\r\n        <input type=\"submit\" onClick={handleSubmit(onSubmit)} />\r\n        \r\n        </form>\r\n    </UserProvider>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}