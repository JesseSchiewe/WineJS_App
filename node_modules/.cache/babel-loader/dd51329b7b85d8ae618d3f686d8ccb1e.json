{"ast":null,"code":"import _slicedToArray from\"C:/GitRepos/WineJS/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import{auth}from\"../Firebase\";//import { UserContext } from \"../providers/UserProvider\";\nimport{Link}from\"react-router-dom\";var PasswordReset=function PasswordReset(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),emailHasBeenSent=_useState4[0],setEmailHasBeenSent=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var onChangeHandler=function onChangeHandler(event){var _event$currentTarget=event.currentTarget,name=_event$currentTarget.name,value=_event$currentTarget.value;if(name===\"userEmail\"){setEmail(value);}};var sendResetEmail=function sendResetEmail(event){event.preventDefault();auth.sendPasswordResetEmail(email).then(function(){setEmailHasBeenSent(true);setTimeout(function(){setEmailHasBeenSent(false);},3000);}).catch(function(){setError(\"Error resetting password\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl text-center font-bold mb-3\",children:\"Reset your Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\",children:[/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[emailHasBeenSent&&/*#__PURE__*/_jsx(\"div\",{className:\"py-3 bg-green-400 w-full text-white text-center mb-3\",children:\"An email has been sent to you!\"}),error!==null&&/*#__PURE__*/_jsx(\"div\",{className:\"py-3 bg-red-600 w-full text-white text-center mb-3\",children:error}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userEmail\",className:\"w-full block\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"userEmail\",id:\"userEmail\",value:email,placeholder:\"Input your email\",onChange:onChangeHandler,className:\"mb-3 w-full px-1 py-2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-blue-400 text-white py-3\",onClick:function onClick(event){sendResetEmail(event);},children:\"Send me a reset link\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"my-2 text-blue-700 hover:text-blue-800 text-center block\",children:\"\\u2190 back to sign in page\"})]})]});};export default PasswordReset;","map":{"version":3,"sources":["C:/GitRepos/WineJS/app/src/components/PasswordReset.jsx"],"names":["React","useState","auth","Link","PasswordReset","email","setEmail","emailHasBeenSent","setEmailHasBeenSent","error","setError","onChangeHandler","event","currentTarget","name","value","sendResetEmail","preventDefault","sendPasswordResetEmail","then","setTimeout","catch"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,aAArB,CACA;AACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eACAH,QAAQ,CAAC,EAAD,CADR,wCACnBI,KADmB,eACZC,QADY,8BAEsBL,QAAQ,CAAC,KAAD,CAF9B,yCAEnBM,gBAFmB,eAEDC,mBAFC,8BAGAP,QAAQ,CAAC,IAAD,CAHR,yCAGnBQ,KAHmB,eAGZC,QAHY,eAK1B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,0BACPA,KAAK,CAACC,aADC,CACvBC,IADuB,sBACvBA,IADuB,CACjBC,KADiB,sBACjBA,KADiB,CAG/B,GAAID,IAAI,GAAK,WAAb,CAA0B,CACxBR,QAAQ,CAACS,KAAD,CAAR,CACD,CACF,CAND,CAQA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAJ,KAAK,CAAI,CAC9BA,KAAK,CAACK,cAAN,GACAf,IAAI,CACDgB,sBADH,CAC0Bb,KAD1B,EAEGc,IAFH,CAEQ,UAAM,CACRX,mBAAmB,CAAC,IAAD,CAAnB,CACFY,UAAU,CAAC,UAAM,CAACZ,mBAAmB,CAAC,KAAD,CAAnB,CAA2B,CAAnC,CAAqC,IAArC,CAAV,CACD,CALH,EAMGa,KANH,CAMS,UAAM,CACXX,QAAQ,CAAC,0BAAD,CAAR,CACD,CARH,EASD,CAXD,CAYA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,WAAI,SAAS,CAAC,oCAAd,iCADF,cAIE,aAAK,SAAS,CAAC,2EAAf,wBACE,cAAM,MAAM,CAAC,EAAb,WACGH,gBAAgB,eACf,YAAK,SAAS,CAAC,sDAAf,4CAFJ,CAMGE,KAAK,GAAK,IAAV,eACC,YAAK,SAAS,CAAC,oDAAf,UACGA,KADH,EAPJ,cAWE,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,cAArC,oBAXF,cAcE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,WAFP,CAGE,EAAE,CAAC,WAHL,CAIE,KAAK,CAAEJ,KAJT,CAKE,WAAW,CAAC,kBALd,CAME,QAAQ,CAAEM,eANZ,CAOE,SAAS,CAAC,uBAPZ,EAdF,cAuBE,eACE,SAAS,CAAC,oCADZ,CAEE,OAAO,CAAE,iBAAAC,KAAK,CAAI,CAChBI,cAAc,CAACJ,KAAD,CAAd,CACD,CAJH,kCAvBF,GADF,cAkCE,KAAC,IAAD,EACE,EAAE,CAAC,GADL,CAEE,SAAS,CAAC,0DAFZ,yCAlCF,GAJF,GADF,CAgDD,CAzED,CA2EA,cAAeR,CAAAA,aAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { auth } from \"../Firebase\";\r\n//import { UserContext } from \"../providers/UserProvider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PasswordReset = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailHasBeenSent, setEmailHasBeenSent] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const onChangeHandler = event => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    if (name === \"userEmail\") {\r\n      setEmail(value);\r\n    }\r\n  };\r\n\r\n  const sendResetEmail = event => {\r\n    event.preventDefault();\r\n    auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n          setEmailHasBeenSent(true);\r\n        setTimeout(() => {setEmailHasBeenSent(false)}, 3000);\r\n      })\r\n      .catch(() => {\r\n        setError(\"Error resetting password\");\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"mt-8\">\r\n      <h1 className=\"text-xl text-center font-bold mb-3\">\r\n        Reset your Password\r\n      </h1>\r\n      <div className=\"border border-blue-300 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n        <form action=\"\">\r\n          {emailHasBeenSent && (\r\n            <div className=\"py-3 bg-green-400 w-full text-white text-center mb-3\">\r\n              An email has been sent to you!\r\n            </div>\r\n          )}\r\n          {error !== null && (\r\n            <div className=\"py-3 bg-red-600 w-full text-white text-center mb-3\">\r\n              {error}\r\n            </div>\r\n          )}\r\n          <label htmlFor=\"userEmail\" className=\"w-full block\">\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"userEmail\"\r\n            id=\"userEmail\"\r\n            value={email}\r\n            placeholder=\"Input your email\"\r\n            onChange={onChangeHandler}\r\n            className=\"mb-3 w-full px-1 py-2\"\r\n          />\r\n          <button\r\n            className=\"w-full bg-blue-400 text-white py-3\"\r\n            onClick={event => {\r\n              sendResetEmail(event);\r\n            }}\r\n          >\r\n            Send me a reset link\r\n          </button>\r\n        </form>\r\n\r\n        <Link\r\n          to=\"/\"\r\n          className=\"my-2 text-blue-700 hover:text-blue-800 text-center block\"\r\n        >\r\n          &larr; back to sign in page\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;"]},"metadata":{},"sourceType":"module"}